#+BEGIN_SRC ipython :session :results raw drawer
print('hi')
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[1]:
:END:

#+BEGIN_SRC ipython :session :results raw drawer
  %matplotlib inline
  import matplotlib.pyplot as plt
  import numpy as np
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[2]:
:END:

#+BEGIN_SRC ipython :session :exports both :results raw drawer
  def foo(x):
      return x + 9

  [foo(x) + 7 for x in range(7)]
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[3]:
: [16, 17, 18, 19, 20, 21, 22]
:END:

#+BEGIN_SRC ipython :session :ipyfile /tmp/test3.png :exports both :results raw drawer
  plt.hist(np.random.randn(20000), bins=200)
#+END_SRC

#+RESULTS:
:RESULTS:
# Out[5]:
#+BEGIN_EXAMPLE
  (array([   1.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,
  0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,    0.,
  0.,    0.,    0.,    0.,    0.,    0.,    0.,    1.,    1.,
  2.,    1.,    0.,    0.,    0.,    2.,    3.,    1.,    3.,
  5.,    3.,    3.,    3.,    3.,    6.,    4.,    5.,    9.,
  7.,   12.,    9.,   14.,   12.,   22.,   16.,   21.,   14.,
  20.,   18.,   26.,   32.,   19.,   39.,   39.,   31.,   38.,
  52.,   53.,   60.,   56.,   64.,   57.,   70.,   76.,   74.,
  88.,  105.,  104.,  106.,  130.,  114.,  109.,  132.,  103.,
  161.,  172.,  140.,  194.,  169.,  179.,  200.,  212.,  225.,
  221.,  231.,  241.,  254.,  265.,  260.,  268.,  312.,  272.,
  292.,  275.,  295.,  330.,  316.,  337.,  309.,  371.,  324.,
  323.,  352.,  328.,  334.,  338.,  325.,  324.,  332.,  330.,
  298.,  306.,  306.,  333.,  301.,  279.,  296.,  292.,  295.,
  292.,  269.,  260.,  261.,  226.,  233.,  217.,  207.,  191.,
  203.,  199.,  206.,  174.,  153.,  172.,  124.,  132.,  157.,
  134.,  119.,  115.,   99.,   93.,   86.,   96.,   78.,   76.,
  66.,   67.,   57.,   68.,   57.,   44.,   52.,   53.,   52.,
  41.,   31.,   36.,   16.,   32.,   26.,   20.,   26.,   21.,
  12.,   14.,   14.,   16.,   12.,   15.,    4.,   10.,    4.,
  6.,    6.,    3.,    5.,    5.,    2.,    2.,    5.,    1.,
  4.,    1.,    1.,    1.,    0.,    0.,    1.,    0.,    1.,
  1.,    2.]),
  array([-4.62394663, -4.58250528, -4.54106393, -4.49962259, -4.45818124,
  -4.41673989, -4.37529855, -4.3338572 , -4.29241585, -4.25097451,
  -4.20953316, -4.16809181, -4.12665047, -4.08520912, -4.04376777,
  -4.00232643, -3.96088508, -3.91944373, -3.87800238, -3.83656104,
  -3.79511969, -3.75367834, -3.712237  , -3.67079565, -3.6293543 ,
  -3.58791296, -3.54647161, -3.50503026, -3.46358892, -3.42214757,
  -3.38070622, -3.33926488, -3.29782353, -3.25638218, -3.21494083,
  -3.17349949, -3.13205814, -3.09061679, -3.04917545, -3.0077341 ,
  -2.96629275, -2.92485141, -2.88341006, -2.84196871, -2.80052737,
  -2.75908602, -2.71764467, -2.67620332, -2.63476198, -2.59332063,
  -2.55187928, -2.51043794, -2.46899659, -2.42755524, -2.3861139 ,
  -2.34467255, -2.3032312 , -2.26178986, -2.22034851, -2.17890716,
  -2.13746582, -2.09602447, -2.05458312, -2.01314177, -1.97170043,
  -1.93025908, -1.88881773, -1.84737639, -1.80593504, -1.76449369,
  -1.72305235, -1.681611  , -1.64016965, -1.59872831, -1.55728696,
  -1.51584561, -1.47440426, -1.43296292, -1.39152157, -1.35008022,
  -1.30863888, -1.26719753, -1.22575618, -1.18431484, -1.14287349,
  -1.10143214, -1.0599908 , -1.01854945, -0.9771081 , -0.93566676,
  -0.89422541, -0.85278406, -0.81134271, -0.76990137, -0.72846002,
  -0.68701867, -0.64557733, -0.60413598, -0.56269463, -0.52125329,
  -0.47981194, -0.43837059, -0.39692925, -0.3554879 , -0.31404655,
  -0.2726052 , -0.23116386, -0.18972251, -0.14828116, -0.10683982,
  -0.06539847, -0.02395712,  0.01748422,  0.05892557,  0.10036692,
  0.14180826,  0.18324961,  0.22469096,  0.2661323 ,  0.30757365,
  0.349015  ,  0.39045635,  0.43189769,  0.47333904,  0.51478039,
  0.55622173,  0.59766308,  0.63910443,  0.68054577,  0.72198712,
  0.76342847,  0.80486981,  0.84631116,  0.88775251,  0.92919386,
  0.9706352 ,  1.01207655,  1.0535179 ,  1.09495924,  1.13640059,
  1.17784194,  1.21928328,  1.26072463,  1.30216598,  1.34360732,
  1.38504867,  1.42649002,  1.46793136,  1.50937271,  1.55081406,
  1.59225541,  1.63369675,  1.6751381 ,  1.71657945,  1.75802079,
  1.79946214,  1.84090349,  1.88234483,  1.92378618,  1.96522753,
  2.00666887,  2.04811022,  2.08955157,  2.13099292,  2.17243426,
  2.21387561,  2.25531696,  2.2967583 ,  2.33819965,  2.379641  ,
  2.42108234,  2.46252369,  2.50396504,  2.54540638,  2.58684773,
  2.62828908,  2.66973042,  2.71117177,  2.75261312,  2.79405447,
  2.83549581,  2.87693716,  2.91837851,  2.95981985,  3.0012612 ,
  3.04270255,  3.08414389,  3.12558524,  3.16702659,  3.20846793,
  3.24990928,  3.29135063,  3.33279198,  3.37423332,  3.41567467,
  3.45711602,  3.49855736,  3.53999871,  3.58144006,  3.6228814 ,
  3.66432275]),
  <a list of 200 Patch objects>)
#+END_EXAMPLE
[[file:/tmp/test3.png]]
:END:
